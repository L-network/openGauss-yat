-- @testpoint: 二级分区表多分区测试

--step1: 创建表空间和二级分区表，多分区; expect:成功
drop table if exists t_subpartition_0007 cascade;
drop tablespace if exists ts_subpartition_0007 ;
create tablespace ts_subpartition_0007 relative location 'subpartition_tablespace/subpartition_tablespace_1';
create   table t_subpartition_0007
(
    col_1 int  ,
    col_2  int ,
    col_3 varchar2 ( 30 )  ,
    col_4  int
)
tablespace ts_subpartition_0007
partition by range (col_1) subpartition by range (col_2)
(
  partition p_range_1 values less than(-80 )
  (
    subpartition p_range_1_1 values less than(  -20),
    subpartition p_range_1_2 values less than( -10 ),
    subpartition p_range_1_3 values less than( 0 ),
    subpartition p_range_1_4 values less than( 50 ),
    subpartition p_range_1_5 values less than( 150 ),
    subpartition p_range_1_6 values less than( 250 ),
    subpartition p_range_1_7 values less than( 350 ),
    subpartition p_range_1_8 values less than( 450 ),
    subpartition p_range_1_9 values less than( 550 ),
    subpartition p_range_1_10 values less than( 650 ),
    subpartition p_range_1_11 values less than( 750 ),
    subpartition p_range_1_12 values less than( 850 ),
    subpartition p_range_1_13 values less than( 950 ),
    subpartition p_range_1_14 values less than( 1050 ),
    subpartition p_range_1_15 values less than( 1150 ),
    subpartition p_range_1_16 values less than( maxvalue )
  ),
  partition p_range_2 values less than( 80 )
  (
    subpartition p_range_2_1 values less than( 50 ),
    subpartition p_range_2_2 values less than( 150 ),
    subpartition p_range_2_3 values less than( 250 ),
    subpartition p_range_2_4 values less than( 350 ),
    subpartition p_range_2_5 values less than( 450 ),
    subpartition p_range_2_6 values less than( 550 ),
    subpartition p_range_2_7 values less than( 650 ),
    subpartition p_range_2_8 values less than( 750 ),
    subpartition p_range_2_9 values less than( 850 ),
    subpartition p_range_2_10 values less than( 950 ),
    subpartition p_range_2_11 values less than( 1050 ),
    subpartition p_range_2_12 values less than( 1150 ),
    subpartition p_range_2_13 values less than( 1250 ),
    subpartition p_range_2_14 values less than( 1350 ),
    subpartition p_range_2_15 values less than( 1450 ),
    subpartition p_range_2_16 values less than( 1550 ),
    subpartition p_range_2_17 values less than( 1650 ),
    subpartition p_range_2_18 values less than( 1750 ),
    subpartition p_range_2_19 values less than( 1850 ),
    subpartition p_range_2_20 values less than( 1950 ),
    subpartition p_range_2_21 values less than( 2050 ),
    subpartition p_range_2_22 values less than( 2150 ),
    subpartition p_range_2_23 values less than( 2250 ),
    subpartition p_range_2_24 values less than( 2350 ),
    subpartition p_range_2_25 values less than( 2450 ),
    subpartition p_range_2_26 values less than( 2550 ),
    subpartition p_range_2_27 values less than( 2650 ),
    subpartition p_range_2_28 values less than( 2750 ),
    subpartition p_range_2_29 values less than( 2850 ),
    subpartition p_range_2_30 values less than( 2950 ),
    subpartition p_range_2_31 values less than( maxvalue )
  ),
  partition p_range_3 values less than( 100 ),
  partition p_range_4 values less than( 200 ),
  partition p_range_5 values less than( 300 ),
  partition p_range_6 values less than( 400 ),
  partition p_range_7 values less than( 500 ),
  partition p_range_8 values less than( 600 ),
  partition p_range_9 values less than( 700 ),
  partition p_range_10 values less than( 800 ),
  partition p_range_11 values less than( 900 ),
  partition p_range_12 values less than( 1000 ),
  partition p_range_13 values less than( 1100 ),
  partition p_range_14 values less than( 1200 ),
  partition p_range_15 values less than( 1300 ),
  partition p_range_16 values less than( 1400 ),
  partition p_range_17 values less than( 1500 ),
  partition p_range_18 values less than( 1600 ),
  partition p_range_19 values less than( 1700 ),
  partition p_range_20 values less than( 1800 ),
  partition p_range_21 values less than( 2000 )
  (
    subpartition p_range_21_1 values less than( 50 ),
    subpartition p_range_21_2 values less than( 150 ),
    subpartition p_range_21_3 values less than( 250 ),
    subpartition p_range_21_4 values less than( 350 ),
    subpartition p_range_21_5 values less than( 450 ),
    subpartition p_range_21_6 values less than( 550 ),
    subpartition p_range_21_7 values less than( 650 ),
    subpartition p_range_21_8 values less than( 750 ),
    subpartition p_range_21_9 values less than( 850 ),
    subpartition p_range_21_10 values less than( 950 ),
    subpartition p_range_21_11 values less than( 1050 ),
    subpartition p_range_21_12 values less than( 1150 ),
    subpartition p_range_21_13 values less than( 1250 ),
    subpartition p_range_21_14 values less than( 1350 ),
    subpartition p_range_21_15 values less than( 1450 ),
    subpartition p_range_21_16 values less than( 1550 ),
    subpartition p_range_21_17 values less than( 1650 ),
    subpartition p_range_21_18 values less than( 1750 ),
    subpartition p_range_21_19 values less than( 1850 ),
    subpartition p_range_21_20 values less than( 1950 ),
    subpartition p_range_21_21 values less than( 2050 ),
    subpartition p_range_21_22 values less than( 2150 ),
    subpartition p_range_21_23 values less than( 2250 ),
    subpartition p_range_21_24 values less than( 2350 ),
    subpartition p_range_21_25 values less than( 2450 ),
    subpartition p_range_21_26 values less than( 2550 ),
    subpartition p_range_21_27 values less than( 2650 ),
    subpartition p_range_21_28 values less than( 2750 ),
    subpartition p_range_21_29 values less than( 2850 ),
    subpartition p_range_21_30 values less than( 2950 ),
    subpartition p_range_21_31 values less than( maxvalue )
  ),
    partition p_range_22 values less than( 2100 )
  (
    subpartition p_range_22_1 values less than( 50 ),
    subpartition p_range_22_2 values less than( 150 ),
    subpartition p_range_22_3 values less than( 250 ),
    subpartition p_range_22_4 values less than( 350 ),
    subpartition p_range_22_5 values less than( 450 ),
    subpartition p_range_22_6 values less than( 550 ),
    subpartition p_range_22_7 values less than( 650 ),
    subpartition p_range_22_8 values less than( 750 ),
    subpartition p_range_22_9 values less than( 850 ),
    subpartition p_range_22_10 values less than( 950 ),
    subpartition p_range_22_11 values less than( 1050 ),
    subpartition p_range_22_12 values less than( 1150 ),
    subpartition p_range_22_13 values less than( 1250 ),
    subpartition p_range_22_14 values less than( 1350 ),
    subpartition p_range_22_15 values less than( 1450 ),
    subpartition p_range_22_16 values less than( 1550 ),
    subpartition p_range_22_17 values less than( 1650 ),
    subpartition p_range_22_18 values less than( 1750 ),
    subpartition p_range_22_19 values less than( 1850 ),
    subpartition p_range_22_20 values less than( 1950 ),
    subpartition p_range_22_21 values less than( 2050 ),
    subpartition p_range_22_22 values less than( 2150 ),
    subpartition p_range_22_23 values less than( 2250 ),
    subpartition p_range_22_24 values less than( 2350 ),
    subpartition p_range_22_25 values less than( 2450 ),
    subpartition p_range_22_26 values less than( 2550 ),
    subpartition p_range_22_27 values less than( 2650 ),
    subpartition p_range_22_28 values less than( 2750 ),
    subpartition p_range_22_29 values less than( 2850 ),
    subpartition p_range_22_30 values less than( 2950 ),
    subpartition p_range_22_31 values less than( maxvalue )
	),
    partition p_range_23 values less than( 2200 )
  (
    subpartition p_range_23_0 values less than( -50 ),
    subpartition p_range_23_1 values less than( 50 ),
    subpartition p_range_23_2 values less than( 150 ),
    subpartition p_range_23_3 values less than( 250 ),
    subpartition p_range_23_4 values less than( 350 ),
    subpartition p_range_23_5 values less than( 450 ),
    subpartition p_range_23_6 values less than( 550 ),
    subpartition p_range_23_7 values less than( 650 ),
    subpartition p_range_23_8 values less than( 750 ),
    subpartition p_range_23_9 values less than( 850 ),
    subpartition p_range_23_10 values less than( 950 ),
    subpartition p_range_23_11 values less than( 1050 ),
    subpartition p_range_23_12 values less than( 1150 ),
    subpartition p_range_23_13 values less than( 1250 ),
    subpartition p_range_23_14 values less than( 1350 ),
    subpartition p_range_23_15 values less than( 1450 ),
    subpartition p_range_23_16 values less than( 1550 ),
    subpartition p_range_23_17 values less than( 1650 ),
    subpartition p_range_23_18 values less than( 1750 ),
    subpartition p_range_23_19 values less than( 1850 ),
    subpartition p_range_23_20 values less than( 1950 ),
    subpartition p_range_23_21 values less than( 2050 ),
    subpartition p_range_23_22 values less than( 2150 ),
    subpartition p_range_23_23 values less than( 2250 ),
    subpartition p_range_23_24 values less than( 2350 ),
    subpartition p_range_23_25 values less than( 2450 ),
    subpartition p_range_23_26 values less than( 2550 ),
    subpartition p_range_23_27 values less than( 2650 ),
    subpartition p_range_23_28 values less than( 2750 ),
    subpartition p_range_23_29 values less than( 2850 ),
    subpartition p_range_23_30 values less than( 2950 ),
    subpartition p_range_23_31 values less than( maxvalue )
  ),
    partition p_range_24 values less than( 2400 )
  (
    subpartition p_range_24_0 values less than( -50 ),
    subpartition p_range_24_1 values less than( 50 ),
    subpartition p_range_24_2 values less than( 150 ),
    subpartition p_range_24_3 values less than( 250 ),
    subpartition p_range_24_4 values less than( 350 ),
    subpartition p_range_24_5 values less than( 450 ),
    subpartition p_range_24_6 values less than( 550 ),
    subpartition p_range_24_7 values less than( 650 ),
    subpartition p_range_24_8 values less than( 750 ),
    subpartition p_range_24_9 values less than( 850 ),
    subpartition p_range_24_10 values less than( 950 ),
    subpartition p_range_24_11 values less than( 1050 ),
    subpartition p_range_24_12 values less than( 1150 ),
    subpartition p_range_24_13 values less than( 1250 ),
    subpartition p_range_24_14 values less than( 1350 ),
    subpartition p_range_24_15 values less than( 1450 ),
    subpartition p_range_24_16 values less than( 1550 ),
    subpartition p_range_24_17 values less than( 1650 ),
    subpartition p_range_24_18 values less than( 1750 ),
    subpartition p_range_24_19 values less than( 1850 ),
    subpartition p_range_24_20 values less than( 1950 ),
    subpartition p_range_24_21 values less than( 2050 ),
    subpartition p_range_24_22 values less than( 2150 ),
    subpartition p_range_24_23 values less than( 2250 ),
    subpartition p_range_24_24 values less than( 2350 ),
    subpartition p_range_24_25 values less than( 2450 ),
    subpartition p_range_24_26 values less than( 2550 ),
    subpartition p_range_24_27 values less than( 2650 ),
    subpartition p_range_24_28 values less than( 2750 ),
    subpartition p_range_24_29 values less than( 2850 ),
    subpartition p_range_24_30 values less than( 2950 ),
    subpartition p_range_24_31 values less than( maxvalue )
  ),
    partition p_range_25 values less than( 2500 )
  (
    subpartition p_range_25_0 values less than( -50 ),
    subpartition p_range_25_1 values less than( 50 ),
    subpartition p_range_25_2 values less than( 150 ),
    subpartition p_range_25_3 values less than( 250 ),
    subpartition p_range_25_4 values less than( 350 ),
    subpartition p_range_25_5 values less than( 450 ),
    subpartition p_range_25_6 values less than( 550 ),
    subpartition p_range_25_7 values less than( 650 ),
    subpartition p_range_25_8 values less than( 750 ),
    subpartition p_range_25_9 values less than( 850 ),
    subpartition p_range_25_10 values less than( 950 ),
    subpartition p_range_25_11 values less than( 1050 ),
    subpartition p_range_25_12 values less than( 1150 ),
    subpartition p_range_25_13 values less than( 1250 ),
    subpartition p_range_25_14 values less than( 1350 ),
    subpartition p_range_25_15 values less than( 1450 ),
    subpartition p_range_25_16 values less than( 1550 ),
    subpartition p_range_25_17 values less than( 1650 ),
    subpartition p_range_25_18 values less than( 1750 ),
    subpartition p_range_25_19 values less than( 1850 ),
    subpartition p_range_25_20 values less than( 1950 ),
    subpartition p_range_25_21 values less than( 2050 ),
    subpartition p_range_25_22 values less than( 2150 ),
    subpartition p_range_25_23 values less than( 2250 ),
    subpartition p_range_25_24 values less than( 2350 ),
    subpartition p_range_25_25 values less than( 2450 ),
    subpartition p_range_25_26 values less than( 2550 ),
    subpartition p_range_25_27 values less than( 2650 ),
    subpartition p_range_25_28 values less than( 2750 ),
    subpartition p_range_25_29 values less than( 2850 ),
    subpartition p_range_25_30 values less than( 2950 ),
    subpartition p_range_25_31 values less than( maxvalue )
  ),
    partition p_range_26 values less than( 2600 )
  (
    subpartition p_range_26_0 values less than( -50 ),
    subpartition p_range_26_1 values less than( 50 ),
    subpartition p_range_26_2 values less than( 150 ),
    subpartition p_range_26_3 values less than( 250 ),
    subpartition p_range_26_4 values less than( 350 ),
    subpartition p_range_26_5 values less than( 450 ),
    subpartition p_range_26_6 values less than( 550 ),
    subpartition p_range_26_7 values less than( 650 ),
    subpartition p_range_26_8 values less than( 750 ),
    subpartition p_range_26_9 values less than( 850 ),
    subpartition p_range_26_10 values less than( 950 ),
    subpartition p_range_26_11 values less than( 1050 ),
    subpartition p_range_26_12 values less than( 1150 ),
    subpartition p_range_26_13 values less than( 1250 ),
    subpartition p_range_26_14 values less than( 1350 ),
    subpartition p_range_26_15 values less than( 1450 ),
    subpartition p_range_26_16 values less than( 1550 ),
    subpartition p_range_26_17 values less than( 1650 ),
    subpartition p_range_26_18 values less than( 1750 ),
    subpartition p_range_26_19 values less than( 1850 ),
    subpartition p_range_26_20 values less than( 1950 ),
    subpartition p_range_26_21 values less than( 2050 ),
    subpartition p_range_26_22 values less than( 2150 ),
    subpartition p_range_26_23 values less than( 2250 ),
    subpartition p_range_26_24 values less than( 2350 ),
    subpartition p_range_26_25 values less than( 2450 ),
    subpartition p_range_26_26 values less than( 2550 ),
    subpartition p_range_26_27 values less than( 2650 ),
    subpartition p_range_26_28 values less than( 2750 ),
    subpartition p_range_26_29 values less than( 2850 ),
    subpartition p_range_26_30 values less than( 2950 ),
    subpartition p_range_26_31 values less than( maxvalue )
  ),
    partition p_range_27 values less than( 2700 )
  (
    subpartition p_range_27_0 values less than( -50 ),
    subpartition p_range_27_1 values less than( 50 ),
    subpartition p_range_27_2 values less than( 150 ),
    subpartition p_range_27_3 values less than( 250 ),
    subpartition p_range_27_4 values less than( 350 ),
    subpartition p_range_27_5 values less than( 450 ),
    subpartition p_range_27_6 values less than( 550 ),
    subpartition p_range_27_7 values less than( 650 ),
    subpartition p_range_27_8 values less than( 750 ),
    subpartition p_range_27_9 values less than( 850 ),
    subpartition p_range_27_10 values less than( 950 ),
    subpartition p_range_27_11 values less than( 1050 ),
    subpartition p_range_27_12 values less than( 1150 ),
    subpartition p_range_27_13 values less than( 1250 ),
    subpartition p_range_27_14 values less than( 1350 ),
    subpartition p_range_27_15 values less than( 1450 ),
    subpartition p_range_27_16 values less than( 1550 ),
    subpartition p_range_27_17 values less than( 1650 ),
    subpartition p_range_27_18 values less than( 1750 ),
    subpartition p_range_27_19 values less than( 1850 ),
    subpartition p_range_27_20 values less than( 1950 ),
    subpartition p_range_27_21 values less than( 2050 ),
    subpartition p_range_27_22 values less than( 2150 ),
    subpartition p_range_27_23 values less than( 2250 ),
    subpartition p_range_27_24 values less than( 2350 ),
    subpartition p_range_27_25 values less than( 2450 ),
    subpartition p_range_27_26 values less than( 2550 ),
    subpartition p_range_27_27 values less than( 2650 ),
    subpartition p_range_27_28 values less than( 2750 ),
    subpartition p_range_27_29 values less than( 2850 ),
    subpartition p_range_27_30 values less than( 2950 ),
    subpartition p_range_27_31 values less than( maxvalue )
  ),
    partition p_range_28 values less than( 2800 )
  (
    subpartition p_range_28_0 values less than( -50 ),
    subpartition p_range_28_1 values less than( 50 ),
    subpartition p_range_28_2 values less than( 150 ),
    subpartition p_range_28_3 values less than( 250 ),
    subpartition p_range_28_4 values less than( 350 ),
    subpartition p_range_28_5 values less than( 450 ),
    subpartition p_range_28_6 values less than( 550 ),
    subpartition p_range_28_7 values less than( 650 ),
    subpartition p_range_28_8 values less than( 750 ),
    subpartition p_range_28_9 values less than( 850 ),
    subpartition p_range_28_10 values less than( 950 ),
    subpartition p_range_28_11 values less than( 1050 ),
    subpartition p_range_28_12 values less than( 1150 ),
    subpartition p_range_28_13 values less than( 1250 ),
    subpartition p_range_28_14 values less than( 1350 ),
    subpartition p_range_28_15 values less than( 1450 ),
    subpartition p_range_28_16 values less than( 1550 ),
    subpartition p_range_28_17 values less than( 1650 ),
    subpartition p_range_28_18 values less than( 1750 ),
    subpartition p_range_28_19 values less than( 1850 ),
    subpartition p_range_28_20 values less than( 1950 ),
    subpartition p_range_28_21 values less than( 2050 ),
    subpartition p_range_28_22 values less than( 2150 ),
    subpartition p_range_28_23 values less than( 2250 ),
    subpartition p_range_28_24 values less than( 2350 ),
    subpartition p_range_28_25 values less than( 2450 ),
    subpartition p_range_28_26 values less than( 2550 ),
    subpartition p_range_28_27 values less than( 2650 ),
    subpartition p_range_28_28 values less than( 2750 ),
    subpartition p_range_28_29 values less than( 2850 ),
    subpartition p_range_28_30 values less than( 2950 ),
    subpartition p_range_28_31 values less than( maxvalue )
  ),
    partition p_range_29 values less than( 2900 )
  (
    subpartition p_range_29_0 values less than( -50 ),
    subpartition p_range_29_1 values less than( 50 ),
    subpartition p_range_29_2 values less than( 150 ),
    subpartition p_range_29_3 values less than( 250 ),
    subpartition p_range_29_4 values less than( 350 ),
    subpartition p_range_29_5 values less than( 450 ),
    subpartition p_range_29_6 values less than( 550 ),
    subpartition p_range_29_7 values less than( 650 ),
    subpartition p_range_29_8 values less than( 750 ),
    subpartition p_range_29_9 values less than( 850 ),
    subpartition p_range_29_10 values less than( 950 ),
    subpartition p_range_29_11 values less than( 1050 ),
    subpartition p_range_29_12 values less than( 1150 ),
    subpartition p_range_29_13 values less than( 1250 ),
    subpartition p_range_29_14 values less than( 1350 ),
    subpartition p_range_29_15 values less than( 1450 ),
    subpartition p_range_29_16 values less than( 1550 ),
    subpartition p_range_29_17 values less than( 1650 ),
    subpartition p_range_29_18 values less than( 1750 ),
    subpartition p_range_29_19 values less than( 1850 ),
    subpartition p_range_29_20 values less than( 1950 ),
    subpartition p_range_29_21 values less than( 2050 ),
    subpartition p_range_29_22 values less than( 2150 ),
    subpartition p_range_29_23 values less than( 2250 ),
    subpartition p_range_29_24 values less than( 2350 ),
    subpartition p_range_29_25 values less than( 2450 ),
    subpartition p_range_29_26 values less than( 2550 ),
    subpartition p_range_29_27 values less than( 2650 ),
    subpartition p_range_29_28 values less than( 2750 ),
    subpartition p_range_29_29 values less than( 2850 ),
    subpartition p_range_29_30 values less than( 2950 ),
    subpartition p_range_29_31 values less than( maxvalue )
  ),
    partition p_range_30 values less than( 3000 )
  (
    subpartition p_range_30_0 values less than( -50 ),
    subpartition p_range_30_1 values less than( 50 ),
    subpartition p_range_30_2 values less than( 150 ),
    subpartition p_range_30_3 values less than( 250 ),
    subpartition p_range_30_4 values less than( 350 ),
    subpartition p_range_30_5 values less than( 450 ),
    subpartition p_range_30_6 values less than( 550 ),
    subpartition p_range_30_7 values less than( 650 ),
    subpartition p_range_30_8 values less than( 750 ),
    subpartition p_range_30_9 values less than( 850 ),
    subpartition p_range_30_10 values less than( 950 ),
    subpartition p_range_30_11 values less than( 1050 ),
    subpartition p_range_30_12 values less than( 1150 ),
    subpartition p_range_30_13 values less than( 1250 ),
    subpartition p_range_30_14 values less than( 1350 ),
    subpartition p_range_30_15 values less than( 1450 ),
    subpartition p_range_30_16 values less than( 1550 ),
    subpartition p_range_30_17 values less than( 1650 ),
    subpartition p_range_30_18 values less than( 1750 ),
    subpartition p_range_30_19 values less than( 1850 ),
    subpartition p_range_30_20 values less than( 1950 ),
    subpartition p_range_30_21 values less than( 2050 ),
    subpartition p_range_30_22 values less than( 2150 ),
    subpartition p_range_30_23 values less than( 2250 ),
    subpartition p_range_30_24 values less than( 2350 ),
    subpartition p_range_30_25 values less than( 2450 ),
    subpartition p_range_30_26 values less than( 2550 ),
    subpartition p_range_30_27 values less than( 2650 ),
    subpartition p_range_30_28 values less than( 2750 ),
    subpartition p_range_30_29 values less than( 2850 ),
    subpartition p_range_30_30 values less than( 2950 ),
    subpartition p_range_30_31 values less than( maxvalue )
  )
)enable row movement;

--step2: 插入多条数据; expect:成功
insert into  t_subpartition_0007 values (generate_series(-80, 2999,30),generate_series(-10, 3000,10),generate_series(0, 79));

--step3: 删除表和表空间; expect:成功
drop table if exists t_subpartition_0007 cascade;
drop tablespace if exists ts_subpartition_0007 ;
