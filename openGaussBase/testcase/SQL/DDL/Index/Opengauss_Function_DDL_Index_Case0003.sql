-- @testpoint: create index:模式名为64位：success：自动截取为63位
--创建64位模式
drop schema if exists testschema01234567890123456789012345678901234567890123456789012 cascade;
drop schema if exists testschema012345678901234567890123456789012345678901234567890123 cascade;
create schema testschema012345678901234567890123456789012345678901234567890123;
--建表
drop table if exists testschema012345678901234567890123456789012345678901234567890123.test_index_schema_02;
create table testschema012345678901234567890123456789012345678901234567890123.test_index_schema_02(id int);
BEGIN
  for i in 1..10000 LOOP
    insert into testschema012345678901234567890123456789012345678901234567890123.test_index_schema_02 values(i);
  end LOOP;
end;
/
explain select * from testschema012345678901234567890123456789012345678901234567890123.test_index_schema_02 where id = 999;
--建索引
drop index if exists testschema012345678901234567890123456789012345678901234567890123.schema_index_02;
create index testschema012345678901234567890123456789012345678901234567890123.schema_index_02 on testschema012345678901234567890123456789012345678901234567890123.test_index_schema_02(id);
--两次引用证明模式被截取位63位
explain select * from testschema012345678901234567890123456789012345678901234567890123.test_index_schema_02 where id = 999;
explain select * from testschema01234567890123456789012345678901234567890123456789012.test_index_schema_02 where id = 999;
--清理数据
drop index if exists testschema012345678901234567890123456789012345678901234567890123.schema_index_01;
drop table if exists testschema012345678901234567890123456789012345678901234567890123.test_index_schema_01 cascade;
drop schema if exists testschema012345678901234567890123456789012345678901234567890123 cascade;