-- @testpoint: 网络地址操作符+的合法值测试

-- 整数直接向前进位255制
SELECT inet '192.168.1.6' + 25 AS RESULT;
SELECT inet '192.168.1.6' + 250 AS RESULT;
SELECT inet '192.168.1.6' + 250000000 AS RESULT;
SELECT inet '255.255.255.250' + 5 AS RESULT;
SELECT inet '255.255.255.250/24' + 5 AS RESULT;
SELECT 5 + inet '255.255.255.250' AS RESULT;
SELECT 4.99999 + inet '255.255.255.250' AS RESULT;
SELECT -5.99999 + inet '255.255.255.250' AS RESULT;
SELECT inet '255.255.255.250/24' + -5 AS RESULT;
SELECT inet '255.255.255.250/24' + 999/-3 AS RESULT;
SELECT inet '255.255.255.250/24' + -245+5 AS RESULT;
SELECT 999-995 + inet '255.255.255.250/24'AS RESULT;


SELECT inet '234e:0:4567::3f' + 1 AS RESULT;
SELECT inet '::1' + 15 AS RESULT;
SELECT inet '::1/128' + 9 AS RESULT;
SELECT 2 + inet '234e:0:4567::3d/64' AS RESULT;

-- 浮点数是四舍五入
SELECT inet '255.255.255.250' + 0.7 AS RESULT;
SELECT inet '0.0.0.0' + 127.1 AS RESULT;
SELECT inet '::1/128' + +9.34 AS RESULT;
SELECT -2.98 + inet '234e:0:4567::3d/64' AS RESULT;
SELECT inet '1::ffff:255.255.255.250' + 9/9 AS RESULT;
SELECT inet '1::ffff:255.255.250.255' + 9/9 AS RESULT;
SELECT inet '1::ffff:255.255.250.250' + 9/9 AS RESULT;


SELECT cidr '192.168' + 25 AS RESULT;
SELECT cidr '10.1.2' + 25 AS RESULT;
SELECT cidr '192.168' + 25 AS RESULT;
SELECT cidr '10.1.2.3/32' + 25 AS RESULT;
SELECT cidr '2001:4f8:3:ba::/64' + 25 AS RESULT;