-- @testpoint: 更新表字段再analyze
drop table if exists tbl_013;
SQL SUCCESS
create table tbl_013
(col_tinyint  tinyint,col_smallint  smallint,col_int  integer, col_smallserial  varchar(30),
col_char  char(30),col_boolean   boolean, col_float  float(3) default '3.14159');
SQL SUCCESS
insert into tbl_013 values(10,-1562,13,'aa','cc','true',2.36);
SQL SUCCESS
insert into tbl_013 values(100,9152,245,'aa','cc','false');
SQL SUCCESS
select * from tbl_013;
+-------------+--------------+---------+-----------------+--------------------------------+-------------+-----------+
| col_tinyint | col_smallint | col_int | col_smallserial | col_char                       | col_boolean | col_float |
+-------------+--------------+---------+-----------------+--------------------------------+-------------+-----------+
| 10          | -1562        | 13      | aa              | cc                             | true        | 2.36      |
| 100         | 9152         | 245     | aa              | cc                             | false       | 3.14159   |
+-------------+--------------+---------+-----------------+--------------------------------+-------------+-----------+
update tbl_013 set col_char='char十',col_float='5.55',col_boolean='true';
SQL SUCCESS
select * from tbl_013;
+-------------+--------------+---------+-----------------+------------------------------+-------------+-----------+
| col_tinyint | col_smallint | col_int | col_smallserial | col_char                     | col_boolean | col_float |
+-------------+--------------+---------+-----------------+------------------------------+-------------+-----------+
| 10          | -1562        | 13      | aa              | char十                        | true        | 5.55      |
| 100         | 9152         | 245     | aa              | char十                        | true        | 5.55      |
+-------------+--------------+---------+-----------------+------------------------------+-------------+-----------+
analyze tbl_013;
SQL SUCCESS
select * from pg_statistic where starelid = (select oid from pg_class where relname = 'tbl_013');
+----------+------------+-----------+------------+-------------+----------+-------------+----------+----------+----------+----------+----------+--------+--------+--------+--------+--------+-------------+-------------+-------------+-------------+-------------+----------------------------------+------------+------------+------------+------------+---------------+------------+
| starelid | starelkind | staattnum | stainherit | stanullfrac | stawidth | stadistinct | stakind1 | stakind2 | stakind3 | stakind4 | stakind5 | staop1 | staop2 | staop3 | staop4 | staop5 | stanumbers1 | stanumbers2 | stanumbers3 | stanumbers4 | stanumbers5 | stavalues1                       | stavalues2 | stavalues3 | stavalues4 | stavalues5 | stadndistinct | staextinfo |
+----------+------------+-----------+------------+-------------+----------+-------------+----------+----------+----------+----------+----------+--------+--------+--------+--------+--------+-------------+-------------+-------------+-------------+-------------+----------------------------------+------------+------------+------------+------------+---------------+------------+
?.*| c          | 1         | false      | 0.0         | 1        | -1.0        | 2        | 3        | 0        | 0        | 0        | 5515   | 5515   | 0      | 0      | 0      |             | \{1.0\}       |             |             |             | \{10,100\}                         |            |            |            |            | 0.0           |            |
?.*| c          | 2         | false      | 0.0         | 2        | -1.0        | 2        | 3        | 0        | 0        | 0        | 95     | 95     | 0      | 0      | 0      |             | \{1.0\}       |             |             |             | \{-1562,9152\}                     |            |            |            |            | 0.0           |            |
?.*| c          | 3         | false      | 0.0         | 4        | -1.0        | 2        | 3        | 0        | 0        | 0        | 97     | 97     | 0      | 0      | 0      |             | \{1.0\}       |             |             |             | \{13,245\}                         |            |            |            |            | 0.0           |            |
?.*| c          | 4         | false      | 0.0         | 3        | -0.5        | 1        | 3        | 0        | 0        | 0        | 98     | 664    | 0      | 0      | 0      | \{1.0\}       | \{1.0\}       |             |             |             | \{aa\}                             |            |            |            |            | 0.0           |            |
?.*| c          | 5         | false      | 0.0         | 31       | -0.5        | 1        | 3        | 0        | 0        | 0        | 1054   | 1058   | 0      | 0      | 0      | \{1.0\}       | \{1.0\}       |             |             |             | \{"char十                       "\} |            |            |            |            | 0.0           |            |
?.*| c          | 6         | false      | 0.0         | 1        | -0.5        | 1        | 3        | 0        | 0        | 0        | 91     | 58     | 0      | 0      | 0      | \{1.0\}       | \{1.0\}       |             |             |             | \{t\}                              |            |            |            |            | 0.0           |            |
?.*| c          | 7         | false      | 0.0         | 4        | -0.5        | 1        | 3        | 0        | 0        | 0        | 620    | 622    | 0      | 0      | 0      | \{1.0\}       | \{1.0\}       |             |             |             | \{5.55000019\}                     |            |            |            |            | 0.0           |            |
+----------+------------+-----------+------------+-------------+----------+-------------+----------+----------+----------+----------+----------+--------+--------+--------+--------+--------+-------------+-------------+-------------+-------------+-------------+----------------------------------+------------+------------+------------+------------+---------------+------------+
drop table if exists tbl_013;
SQL SUCCESS
